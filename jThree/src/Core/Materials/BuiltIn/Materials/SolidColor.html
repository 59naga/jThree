<?xml version="1.0" encoding="UTF-8"?>
<material name="jthree.basic.material1" group="jthree.materials.forematerial" order="300">
<uniform-register>
  <register name="jthree.basic.matrix"/>
  <register name="jthree.basic.time"/>
</uniform-register>
<passes>
  <pass>
    <blend enabled="false" srcColor="srcalpha" dstColor="oneminussrcalpha" srcAlpha="1" dstAlpha="0"/>
    <depth enabled="false"/>
    <cull enabled="true" orientation="ccw"/>
    <glsl>
      <![CDATA[

      attribute vec3 position;
      attribute vec3 normal;
      attribute vec2 uv;

      //@vertonly {
      //@import jthree.builtin.vertex
        uniform mat4 _matPVM;
        uniform mat4 _matVM;
      //}

      //@fragonly {
        uniform vec3 color1;
        uniform float intensity;
        uniform vec4 _SinTime;
      //}

      varying vec3 vNormal;
      varying vec2 vUv;
      varying vec4 vPosition;

      vec2 calcLightUV(vec4 projectionSpacePos)
      {
         return (projectionSpacePos.xy/projectionSpacePos.w+vec2(1,1))/2.;
      }

      //@vertonly
      void main(void)
      {
        BasicVertexTransformOutput o =  basicVertexTransform(position,normal,uv,_matPVM,_matVM);
        gl_Position = vPosition = o.position;
        vNormal = o.normal;
        vUv = o.uv;
      }

      //@fragonly
      void main(void)
      {
        gl_FragColor = vec4(abs(_SinTime.x),abs(_SinTime.y),abs(_SinTime.z),1);
      }

      ]]>
    </glsl>
  </pass>
</passes>
</material>
